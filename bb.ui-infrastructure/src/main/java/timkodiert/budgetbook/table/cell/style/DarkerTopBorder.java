package timkodiert.budgetbook.table.cell.style;

import javafx.scene.control.TableCell;

import timkodiert.budgetbook.domain.table.RowType;

public class DarkerTopBorder extends BaseCellStyle {

    private static final String STYLE_CLASS = "col-darker-border-top";

    public DarkerTopBorder() {
        super(null);
    }

    public DarkerTopBorder(CellStyle wrappedCellStyle) {
        super(wrappedCellStyle);
    }

    @Override
    public void apply(TableCell<?, ?> cell, RowType rowType) {
        applyWrappedStyle(cell, rowType);

        int cellRowIndex = cell.getTableRow().getIndex();
        int maxRowIndex = cell.getTableView().getItems().size() - 1;
        boolean isLastRow = cellRowIndex == maxRowIndex;

        if (rowType == RowType.CATEGORY_GROUP || isLastRow) {
            cell.getStyleClass().add(STYLE_CLASS);
        }
    }

    @Override
    public void reset(TableCell<?, ?> cell) {
        resetWrappedStyle(cell);
        cell.getStyleClass().remove(STYLE_CLASS);
    }
}
